{"ast":null,"code":"var _jsxFileName = \"C:\\\\app\\\\epoxy\\\\src\\\\componentes\\\\Carrito.js\";\nimport React from 'react';\nimport { Table } from 'react-bootstrap';\nimport { variableslocales, liataGLOBAL } from '../componentes/globales';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Carrito extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.handleSubmit = async e => {\n      // let lisclon=[]\n      e.preventDefault();\n      var otralista = this.state;\n      var listdefiniba = []; // otralista.forEach(element => \n      //     //listdefiniba =  liataGLOBAL.concat(element)\n      //     console.log(element)\n      //         );\n\n      for (var i in liataGLOBAL) {\n        listdefiniba = liataGLOBAL[i].concat(otralista);\n      } // console.log(otralista)\n\n\n      for (var i in listdefiniba) {\n        //    console.log(listdefiniba[i])\n        //console.log(listdefiniba[i])\n        //if (listdefiniba[i].key == 'cantidad' )\n        //{\n        let objetoguardar = {\n          cantidad: listdefiniba[i]['cantidad'],\n          preciototal: listdefiniba[i]['preciototal'],\n          preciounitario: listdefiniba[i]['preciounitario'],\n          producto: listdefiniba[i]['producto'],\n          codigo: listdefiniba[3]['codigo'],\n          colonia: listdefiniba[3]['colonia'],\n          estado: listdefiniba[3]['estado'],\n          nombre: listdefiniba[3]['nombre']\n        };\n        const response = await axios({\n          url: 'http://localhost:8000/api/productos/add',\n          method: 'post',\n          data: objetoguardar\n        });\n        console.log(response);\n        return response; // }\n      } //    listdefiniba.forEach(element => \n      //          console.log(element\n      //              ));\n      // let objeto = this.state\n      //console.log(this.state)\n      //   console.log(objeto[\"Nombre\"])\n      // for (var i in objeto) {\n      //     var objresultadoguardar{\n      //          producto: '' ,\n      //          preciounitario: req.body.preciounitario,\n      //          cantidad: req.body.candidad,\n      //          preciototal: req.body.preciototal,\n      //          nombrecliente: req.body.nombrecliente,\n      //          colonia: req.body.colonia,\n      //          codigopostal: req.body.codigopostal,\n      //          estado: req.body.estado\n      //   }\n      //console.log( objeto[i][\"Nombre\"])\n      //     var varnombrecliente = objeto[\"Nombre\"]\n      //     var varcolonia = objeto[\"Colonia\"]\n      //     var varcodigopostal = objeto[\"CP\"]\n      //     var varestado= objeto[\"Estado\"]\n      //    // console.log(objresultadousuarioguardar)\n      //     var objresultadousuarioguardar = {\n      //         nombrecliente: varnombrecliente ,\n      //         colonia: varcolonia,\n      //         codigopostal: varcodigopostal,\n      //         estado: varestado\n      //  //}\n      //     }\n      //var data =  JSON.stringify(objresultadousuarioguardar)\n      //for (var i in liataGLOBAL) {\n      // console.log(liataGLOBAL)\n      //  console.log(liataGLOBAL[0][i])\n      //    var datosss = '[{Codigo: 6080e3ef525d890a981fb59d,Colonia: 0,Estado: hui,Nombre:sdf}]'\n      //         let config = {\n      //         method:'POST',\n      //         handers:{\n      //             'Accept': 'application/json',\n      //             'Content-Type': 'application/json'\n      //         },\n      //         body: JSON.stringify(datosss)\n      //     }\n      //     let res = await fetch('http://localhost:3000/api/productos/add',config)\n      //      let json = await res.json()\n      //    console.log(json)\n      //}\n      // console.log( objeto)\n      //----------------------------------------\n      // let usuario = {\n      //             nombre:'Rabossssssssss',\n      //              colonia: 'damiana'\n      //            };\n\n\n      const response = await axios({\n        url: 'http://localhost:8000/api/productos/add',\n        method: 'post',\n        data: usuario\n      });\n      console.log(response);\n      return response; //----------------------------------------------------\n      // var datjson = JSON.form(liataGLOBAL)\n      // console.log(liataGLOBAL)\n      // for (var i in liataGLOBAL) {\n      //     let usuario = {\n      //         nombre:'Rabo',\n      //         colonia: 'damiana'\n      //        };\n      //     var data = usuario// JSON.stringify(usuario)\n      //     //  console.log(data)\n      //   var config = {\n      //       method: 'post',\n      //       url:'http://localhost:8000/api/productos/add',\n      //       handers:{         \n      //           'Accept': 'application/json',            \n      //                           'Content-Type': 'application/json',                           \n      //                   },\n      //                   datat : data\n      //   }\n      //   axios(config)\n      //   console.log(data)\n      // }\n    };\n\n    this.handleChange = e => {\n      this.setState({ ...this.state.form,\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    function guardaproducto(arrayfin) {\n      // liataGLOBAL = liataGLOBAL\n      // arrayfin.concat(arrayfin)\n      liataGLOBAL.push(arrayfin); //console.log(liataGLOBAL)\n    }\n\n    var contadorproductostrans = 0;\n    var contadorproductospolvos = 0;\n    var contadorproductosmigas = 0;\n    var totalcostoproductostrans = 0;\n    var totalcostoproductospolvos = 0.0;\n    var totalcostoproductosmigas = 0;\n    var costounitariotrans = 0;\n    var costounitariopolvos = 0.0;\n    var costounitariomigas = 0.0;\n    var arregloresultado = [];\n\n    if (variableslocales.getItem(\"variableslocales\")) {\n      var objeto = JSON.parse(variableslocales.getItem(\"variableslocales\"));\n\n      for (var i in objeto) {\n        // console.log(objeto[i][\"producto\"]);\n        // console.log(objeto[i]);\n        if (objeto[i][\"producto\"] == \"translucidos\") {\n          var producto = objeto[i][\"producto\"];\n          contadorproductostrans = contadorproductostrans + 1;\n          costounitariotrans = parseFloat(objeto[i][\"preciounitario\"]);\n          totalcostoproductostrans = parseFloat(costounitariotrans * contadorproductostrans); // producto: req.body.producto,\n          // preciounitario: req.body.preciounitario,\n          // cantidad: req.body.candidad,\n          // preciototal: req.body.preciototal,\n          // nombrecliente: req.body.nombrecliente,\n          // colonia: req.body.colonia,\n          // codigopostal: req.body.codigopostal,\n          // estado: req.body.estado\n\n          var objetoresultadotrans = {\n            // producto: \n            cantidad: contadorproductostrans,\n            preciototal: totalcostoproductostrans,\n            preciounitario: costounitariotrans,\n            producto: producto\n          };\n        }\n\n        if (objeto[i][\"producto\"] == \"polvo\") {\n          var producto = objeto[i][\"producto\"]; //console.log(\"Entra if polvo\")\n\n          contadorproductospolvos = contadorproductospolvos + 1; //console.log(contadorproductospolvos)\n\n          costounitariopolvos = parseFloat(objeto[i][\"preciounitario\"]); //console.log(costounitariopolvos)\n\n          totalcostoproductospolvos = parseFloat(costounitariopolvos * contadorproductospolvos); //console.log(totalcostoproductospolvos)\n\n          var objetoresultadopolvo = {\n            cantidad: contadorproductospolvos,\n            preciototal: totalcostoproductospolvos,\n            preciounitario: costounitariopolvos,\n            producto: producto\n          };\n        }\n\n        if (objeto[i][\"producto\"] == 'migas') {\n          var producto = objeto[i][\"producto\"]; //console.log(\"Entra if polvo\")\n\n          contadorproductosmigas = contadorproductosmigas + 1; //console.log(contadorproductosmigas)\n\n          costounitariomigas = parseFloat(objeto[i][\"preciounitario\"]); //console.log(costounitariomigas)\n\n          totalcostoproductosmigas = parseFloat(costounitariomigas * contadorproductosmigas); //console.log(totalcostoproductosmigas)\n\n          var objetoresultadomigas = {\n            cantidad: contadorproductosmigas,\n            preciototal: totalcostoproductosmigas,\n            preciounitario: costounitariomigas,\n            producto: producto\n          };\n        }\n      }\n\n      if (objetoresultadotrans) {\n        arregloresultado.push(objetoresultadotrans);\n      }\n\n      if (objetoresultadopolvo) {\n        arregloresultado.push(objetoresultadopolvo);\n      }\n\n      if (objetoresultadomigas) {\n        arregloresultado.push(objetoresultadomigas);\n      }\n    } else {\n      console.log(\"no hay nada\");\n    } //console.log(arregloresultado)\n\n\n    const productosdinamicos = (arregloresultado, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: arregloresultado.producto\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: new Intl.NumberFormat(\"en-IN\").format(arregloresultado.preciounitario)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: arregloresultado.cantidad\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: new Intl.NumberFormat(\"en-IN\").format(arregloresultado.preciototal)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 22\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            striped: true,\n            bordered: true,\n            hover: true,\n            variant: \"dark\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Producto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Precio unitario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Cantidad\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Precio Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: arregloresultado.map(productosdinamicos)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Nombre Completo\",\n            name: \"nombre\",\n            onChange: this.handleChange,\n            value: this.state.Nombre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Colonia\",\n            name: \"colonia\",\n            onChange: this.handleChange,\n            value: this.state.Colonia\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Codigo Postal\",\n            name: \"codigo\",\n            onChange: this.handleChange,\n            value: this.state.Codigo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Estado\",\n            name: \"estado\" //  onChange={(e)=>this.setField(e)}\n            ,\n            onChange: this.handleChange,\n            value: this.state.Estado\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          onClick: () => guardaproducto(arregloresultado),\n          children: \"GENERAR COTIZACI\\xD3N\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"SEGUIR COMPRANDO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Carrito;","map":{"version":3,"sources":["C:/app/epoxy/src/componentes/Carrito.js"],"names":["React","Table","variableslocales","liataGLOBAL","axios","Carrito","Component","state","handleSubmit","e","preventDefault","otralista","listdefiniba","i","concat","objetoguardar","cantidad","preciototal","preciounitario","producto","codigo","colonia","estado","nombre","response","url","method","data","console","log","usuario","handleChange","setState","form","target","name","value","render","guardaproducto","arrayfin","push","contadorproductostrans","contadorproductospolvos","contadorproductosmigas","totalcostoproductostrans","totalcostoproductospolvos","totalcostoproductosmigas","costounitariotrans","costounitariopolvos","costounitariomigas","arregloresultado","getItem","objeto","JSON","parse","parseFloat","objetoresultadotrans","objetoresultadopolvo","objetoresultadomigas","productosdinamicos","index","Intl","NumberFormat","format","map","Nombre","Colonia","Codigo","Estado"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from 'react'\r\nimport { Table } from 'react-bootstrap';\r\nimport { variableslocales,liataGLOBAL } from '../componentes/globales'\r\nimport axios from 'axios'\r\nclass Carrito extends React.Component {\r\n  \r\n    state = {}\r\n\r\n    handleSubmit = async e => {\r\n        // let lisclon=[]\r\n        \r\n        \r\n        e.preventDefault()\r\n        \r\n      var  otralista = this.state\r\n        var listdefiniba =[]\r\n\r\n        // otralista.forEach(element => \r\n        //     //listdefiniba =  liataGLOBAL.concat(element)\r\n        //     console.log(element)\r\n        //         );\r\n\r\n        for (var i in liataGLOBAL) {\r\n           \r\n            listdefiniba =  liataGLOBAL[i].concat(otralista)\r\n\r\n        }\r\n\r\n        // console.log(otralista)\r\n         for (var i in listdefiniba) {\r\n           \r\n          //    console.log(listdefiniba[i])\r\n          //console.log(listdefiniba[i])\r\n          //if (listdefiniba[i].key == 'cantidad' )\r\n          \r\n          //{\r\n             let objetoguardar ={\r\n                cantidad : listdefiniba[i]['cantidad'],\r\n                preciototal : listdefiniba[i]['preciototal'],\r\n                preciounitario : listdefiniba[i]['preciounitario'],\r\n                producto : listdefiniba[i]['producto'],\r\n                codigo : listdefiniba[3]['codigo'],\r\n                colonia : listdefiniba[3]['colonia'],\r\n                estado : listdefiniba[3]['estado'],\r\n                nombre : listdefiniba[3]['nombre']                     \r\n          }\r\n          const response = await axios({\r\n            url: 'http://localhost:8000/api/productos/add',\r\n            method:'post',\r\n            data:objetoguardar,\r\n        })\r\n        console.log(response)\r\n        return response\r\n       // }\r\n           \r\n         }\r\n      \r\n    //    listdefiniba.forEach(element => \r\n            \r\n    //          console.log(element\r\n    //              ));\r\n\r\n              \r\n       // let objeto = this.state\r\n         //console.log(this.state)\r\n    //   console.log(objeto[\"Nombre\"])\r\n       // for (var i in objeto) {\r\n\r\n        //     var objresultadoguardar{\r\n        //          producto: '' ,\r\n        //          preciounitario: req.body.preciounitario,\r\n        //          cantidad: req.body.candidad,\r\n        //          preciototal: req.body.preciototal,\r\n        //          nombrecliente: req.body.nombrecliente,\r\n        //          colonia: req.body.colonia,\r\n        //          codigopostal: req.body.codigopostal,\r\n        //          estado: req.body.estado\r\n        //   }\r\n       //console.log( objeto[i][\"Nombre\"])\r\n    //     var varnombrecliente = objeto[\"Nombre\"]\r\n    //     var varcolonia = objeto[\"Colonia\"]\r\n    //     var varcodigopostal = objeto[\"CP\"]\r\n    //     var varestado= objeto[\"Estado\"]\r\n    //    // console.log(objresultadousuarioguardar)\r\n    //     var objresultadousuarioguardar = {\r\n    //         nombrecliente: varnombrecliente ,\r\n    //         colonia: varcolonia,\r\n    //         codigopostal: varcodigopostal,\r\n    //         estado: varestado\r\n    //  //}\r\n    //     }\r\n        \r\n        //var data =  JSON.stringify(objresultadousuarioguardar)\r\n        //for (var i in liataGLOBAL) {\r\n          // console.log(liataGLOBAL)\r\n            //  console.log(liataGLOBAL[0][i])\r\n        //    var datosss = '[{Codigo: 6080e3ef525d890a981fb59d,Colonia: 0,Estado: hui,Nombre:sdf}]'\r\n        //         let config = {\r\n        //         method:'POST',\r\n        //         handers:{\r\n        //             'Accept': 'application/json',\r\n        //             'Content-Type': 'application/json'\r\n        //         },\r\n        //         body: JSON.stringify(datosss)\r\n        //     }\r\n        //     let res = await fetch('http://localhost:3000/api/productos/add',config)\r\n        //      let json = await res.json()\r\n        //    console.log(json)\r\n            //}\r\n           // console.log( objeto)\r\n//----------------------------------------\r\n// let usuario = {\r\n//             nombre:'Rabossssssssss',\r\n//              colonia: 'damiana'\r\n//            };\r\n      const response = await axios({\r\n          url: 'http://localhost:8000/api/productos/add',\r\n          method:'post',\r\n          data:usuario,\r\n      })\r\n      console.log(response)\r\n      return response\r\n\r\n    //----------------------------------------------------\r\n   // var datjson = JSON.form(liataGLOBAL)\r\n   // console.log(liataGLOBAL)\r\n    // for (var i in liataGLOBAL) {\r\n    //     let usuario = {\r\n    //         nombre:'Rabo',\r\n    //         colonia: 'damiana'\r\n    //        };\r\n    //     var data = usuario// JSON.stringify(usuario)\r\n       \r\n    //     //  console.log(data)\r\n    //   var config = {\r\n    //       method: 'post',\r\n    //       url:'http://localhost:8000/api/productos/add',\r\n    //       handers:{         \r\n    //           'Accept': 'application/json',            \r\n    //                           'Content-Type': 'application/json',                           \r\n    //                   },\r\n    //                   datat : data\r\n    //   }\r\n    //   axios(config)\r\n    //   console.log(data)\r\n      \r\n    // }\r\n      \r\n    }\r\n    \r\n\r\n    handleChange = e => {\r\n         \r\n        this.setState({\r\n            ...this.state.form,\r\n            [e.target.name]: e.target.value\r\n        })\r\n        \r\n    }\r\n  \r\n\r\n    render()\r\n\r\n  {\r\n            \r\n    function guardaproducto(arrayfin) {\r\n        \r\n       // liataGLOBAL = liataGLOBAL\r\n\r\n   \r\n      // arrayfin.concat(arrayfin)\r\n    liataGLOBAL.push(arrayfin)\r\n    //console.log(liataGLOBAL)\r\n    }\r\n\r\n\r\n        var contadorproductostrans = 0\r\n        var contadorproductospolvos = 0\r\n        var contadorproductosmigas = 0\r\n        var totalcostoproductostrans = 0\r\n        var totalcostoproductospolvos = 0.0\r\n        var totalcostoproductosmigas = 0\r\n        var costounitariotrans = 0\r\n        var costounitariopolvos = 0.0\r\n        var costounitariomigas = 0.0\r\n        var  arregloresultado = [];\r\n        \r\n        \r\n    \r\n        if (variableslocales.getItem(\"variableslocales\")){\r\n            var objeto = JSON.parse(variableslocales.getItem(\"variableslocales\"));\r\n            \r\n            for (var i in objeto) {\r\n           // console.log(objeto[i][\"producto\"]);\r\n           // console.log(objeto[i]);\r\n             if (objeto[i][\"producto\"] == \"translucidos\"){\r\n                var producto  = objeto[i][\"producto\"] \r\n                contadorproductostrans = contadorproductostrans + 1               \r\n                costounitariotrans = parseFloat(objeto[i][\"preciounitario\"])\r\n      \r\n                totalcostoproductostrans = parseFloat((costounitariotrans * contadorproductostrans))\r\n                // producto: req.body.producto,\r\n                // preciounitario: req.body.preciounitario,\r\n                // cantidad: req.body.candidad,\r\n                // preciototal: req.body.preciototal,\r\n                // nombrecliente: req.body.nombrecliente,\r\n                // colonia: req.body.colonia,\r\n                // codigopostal: req.body.codigopostal,\r\n                // estado: req.body.estado\r\n                var objetoresultadotrans = {\r\n                   // producto: \r\n                    cantidad: contadorproductostrans,\r\n                    preciototal: totalcostoproductostrans,\r\n                    preciounitario: costounitariotrans,\r\n                    producto: producto\r\n                 }\r\n             }\r\n             if (objeto[i][\"producto\"] == \"polvo\"){\r\n                var producto =  objeto[i][\"producto\"] \r\n                //console.log(\"Entra if polvo\")\r\n                contadorproductospolvos = contadorproductospolvos + 1\r\n                //console.log(contadorproductospolvos)\r\n                costounitariopolvos = parseFloat(objeto[i][\"preciounitario\"])\r\n                //console.log(costounitariopolvos)\r\n                totalcostoproductospolvos = parseFloat((costounitariopolvos * contadorproductospolvos))\r\n                //console.log(totalcostoproductospolvos)\r\n                var objetoresultadopolvo = {\r\n                    cantidad: contadorproductospolvos,\r\n                    preciototal: totalcostoproductospolvos,\r\n                    preciounitario: costounitariopolvos,\r\n                    producto: producto\r\n                 }\r\n             }\r\n\r\n             if (objeto[i][\"producto\"] == 'migas'){\r\n                var producto = objeto[i][\"producto\"] \r\n                //console.log(\"Entra if polvo\")\r\n                contadorproductosmigas = contadorproductosmigas + 1\r\n                //console.log(contadorproductosmigas)\r\n                costounitariomigas = parseFloat(objeto[i][\"preciounitario\"])\r\n                //console.log(costounitariomigas)\r\n                totalcostoproductosmigas = parseFloat((costounitariomigas * contadorproductosmigas))\r\n                //console.log(totalcostoproductosmigas)\r\n                var objetoresultadomigas = {\r\n                    cantidad: contadorproductosmigas,\r\n                    preciototal: totalcostoproductosmigas,\r\n                    preciounitario:  costounitariomigas,\r\n                    producto: producto\r\n                 }\r\n             }\r\n            \r\n            \r\n          }\r\n  \r\n          if(objetoresultadotrans){\r\n            arregloresultado.push(objetoresultadotrans)\r\n          }\r\n          if(objetoresultadopolvo){\r\n            arregloresultado.push(objetoresultadopolvo)\r\n        }\r\n        if(objetoresultadomigas){\r\n            arregloresultado.push(objetoresultadomigas)\r\n        }\r\n          \r\n         \r\n         \r\n        \r\n        \r\n          }else {\r\n           console.log(\"no hay nada\");\r\n          }\r\n          \r\n         //console.log(arregloresultado)\r\n\r\n\r\n           const productosdinamicos = (arregloresultado,index) =>{\r\n               return (\r\n                <tr key={index}>\r\n                     <td>\r\n                     {arregloresultado.producto}\r\n                     </td>\r\n                     <td>\r\n                     { new Intl.NumberFormat(\"en-IN\").format(arregloresultado.preciounitario)}\r\n                     </td>\r\n                     <td>\r\n                     {arregloresultado.cantidad}\r\n                     </td>\r\n                     <td>\r\n                     {new Intl.NumberFormat(\"en-IN\").format( arregloresultado.preciototal)}\r\n                     </td>\r\n                 </tr>\r\n              )                                \r\n          }\r\n \r\n        return(\r\n            <div className=\"container\">\r\n            <form onSubmit={this.handleSubmit}>\r\n                <div className=\"form-group\">\r\n                <Table striped bordered hover variant=\"dark\">\r\n                        <thead>\r\n                            <tr>\r\n                            <th>Producto</th>\r\n                            <th>Precio unitario</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Precio Total</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {/* <tr><td></td></tr> */}\r\n               {arregloresultado.map(productosdinamicos)}\r\n                           \r\n                           \r\n                        </tbody>\r\n                </Table>\r\n    \r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"Nombre Completo\" \r\n                        name=\"nombre\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.Nombre}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"Colonia\" \r\n                        name=\"colonia\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.Colonia}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"Codigo Postal\" \r\n                        name=\"codigo\"\r\n                        onChange={this.handleChange}                   \r\n                        value={this.state.Codigo}\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        placeholder=\"Estado\" \r\n                        name=\"estado\"\r\n                        //  onChange={(e)=>this.setField(e)}\r\n                        onChange={this.handleChange}   \r\n                         value={this.state.Estado}\r\n                    />\r\n                </div>\r\n                \r\n             <button \r\n                    type=\"submit\" \r\n                    className=\"btn btn-primary\"\r\n                    onClick={() => guardaproducto(arregloresultado)}\r\n                >\r\n                    GENERAR COTIZACIÓN\r\n                </button>\r\n    \r\n    \r\n                <button \r\n                    type=\"submit\" \r\n                    className=\"btn btn-primary\"\r\n                >\r\n                    SEGUIR COMPRANDO\r\n                </button>\r\n            </form>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carrito"]},"metadata":{},"sourceType":"module"}